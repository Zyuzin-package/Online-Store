<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Statistics</title>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        google.charts.load('current', {'packages':['line']});
        google.charts.setOnLoadCallback(drawChart);

        function drawChart() {

            var data = new google.visualization.DataTable();
            data.addColumn('number', 'Mount');
            data.addColumn('number', 'Number');
            var arr = getData("2022-01-10T06:14=2, 2022-02-11T06:14=3, 2022-03-12T06:14=1, 2022-04-13T06:14=3, 2022-05-14T06:14=1, 2022-06-15T06:14=1, 2022-07-16T06:14=1, 2022-08-17T06:14=1, 2022-09-18T06:14=2, 2022-10-19T06:14=1");
            for (var  i = 0; i<=arr.length-1;i++){
                data.addRows([arr[i]]);
            }
            var options = {
                chart: {
                    title: 'Box Office Earnings in First Two Weeks of Opening',
                    subtitle: 'in millions of dollars (USD)'
                },
                width: 900,
                height: 500
            };

            var chart = new google.charts.Line(document.getElementById('linechart_material'));

            chart.draw(data, google.charts.Line.convertOptions(options));
        }
        function getData(str) {
            str = str.substring(1);
            var num = 0;
            let arr = [];
            while (str.length>0) {
                var temp = str.split(',')[0];
                var length = temp.length;
                str = str.slice(length+1);
                var y = temp.split('-')[0];

                var m = temp.split('-')[1];
                var count = temp.split('=')[1];

                temp = temp.slice(9);
                var d = temp.split('T')[0];
                console.log(parseInt(count,10))
                arr[num] = [parseFloat(m),parseFloat(count)];

                num= num +1;

            }
            arr.pop();
            // arr.unshift(["Year","Visit"])
            console.log(arr);
            return arr;
        }
    </script>
</head>
<body>
<div id="linechart_material" style="width: 900px; height: 500px"></div>
</body>
